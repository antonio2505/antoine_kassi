<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Projets 3: Portfolio Optimization | Antoine Kassi</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Portfolio optimization using Modern Portfolio Theory, Markowitz Model.">
    <meta name="generator" content="Hugo 0.68.3" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="https://antonio2505.github.io/antoine_kassi/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="Projets 3: Portfolio Optimization" />
<meta property="og:description" content="Portfolio optimization using Modern Portfolio Theory, Markowitz Model." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://antonio2505.github.io/antoine_kassi/en/post/project-1/" />
<meta property="article:published_time" content="2022-03-29T10:58:08-04:00" />
<meta property="article:modified_time" content="2022-03-29T10:58:08-04:00" /><meta property="og:site_name" content="Antoine Kassi" />
<meta itemprop="name" content="Projets 3: Portfolio Optimization">
<meta itemprop="description" content="Portfolio optimization using Modern Portfolio Theory, Markowitz Model.">
<meta itemprop="datePublished" content="2022-03-29T10:58:08-04:00" />
<meta itemprop="dateModified" content="2022-03-29T10:58:08-04:00" />
<meta itemprop="wordCount" content="734">



<meta itemprop="keywords" content="scene," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Projets 3: Portfolio Optimization"/>
<meta name="twitter:description" content="Portfolio optimization using Modern Portfolio Theory, Markowitz Model."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  
  
  <header class="cover bg-top" style="background-image: url('https://antonio2505.github.io/antoine_kassi/images/optport/Figure_4.png');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://antonio2505.github.io/antoine_kassi/en/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Antoine Kassi
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://antonio2505.github.io/antoine_kassi/en/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://antonio2505.github.io/antoine_kassi/en/contact/" title="Contact page">
              Contact
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://antonio2505.github.io/antoine_kassi/en/post/" title="Projects page">
              Projects
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
    <a href="https://github.com/antonio2505" target="_blank" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel="noopener" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    <a href="https://www.linkedin.com/in/antoine-kassi-09003a123/" target="_blank" class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>
    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <h1 class="f2 f1-l fw2 white-90 mb0 lh-title">Projets 3: Portfolio Optimization</h1>
          
            <h2 class="fw1 f5 f3-l white-80 measure-wide-l center lh-copy mt3 mb4">
              Portfolio optimization using Modern Portfolio Theory, Markowitz Model.
            </h2>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        PROJECTS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
      
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://antonio2505.github.io/antoine_kassi/en/post/project-1/&amp;title=Projets%203:%20Portfolio%20Optimization" class="ananke-social-link linkedin no-underline" aria-label="share on LinkedIn">
        
        <span class="icon"> <svg style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
        
      </a>
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Projets 3: Portfolio Optimization</h1>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2022-03-29T10:58:08-04:00">March 29, 2022</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/Figure_4.png"/> 
</figure>

<h1 id="modern-portfolio-theory">Modern Portfolio Theory</h1>
<p>It was formulated in the 1950 by Harry Markowitz.</p>
<h3 id="what-is-the-main-idea">what is the main idea?</h3>
<p>A single stock is quite unpredictable or risky: we do not know for certain
whether a stock will go up or down.</p>
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/simgle_stock.png"/> 
</figure>

<p>But we may combine several stocks, in order to reduce risk as much as possible.
<em>DIVERSIFICATION</em>.</p>
<p>when a given value of stock goes down another goes up.
Combining assets is the main idea: it is the same as the black-scholes Model.</p>
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/several_stock.png"/> 
</figure>

<p>The model has some Assumptions:
* the return are normally distributed:
with mean (u) and variance(sigma)
* the investors are risk-averse:
inverstor will take more risk if the are excepting more rewards
low &ndash;&gt; low return
higher risk &ndash;&gt; higher return</p>
<p>With modern portfolio theory, investors can construct optimal portfolios
offering the maximum possible expected return for a given level of risk!!</p>
<h3 id="so-what-is-an-efficient-portfolio">so what is an efficient portfolio?</h3>
<p>It is a portfolio that has the highest rewards for a given level of risk.</p>
<h3 id="how-to-calculate-the-return-of-an-asset-">How to calculate the return of an asset ?</h3>
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/1.png"/> 
</figure>

<p>daily return plot:
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/Figure_2.png"/> 
</figure>
</p>
<p>Wi is the weight of the i stock.
ri the return of the i stock // calculate on its historical data
Ui the expected return of the portfolio
portfolio return formula:
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/portf_return_formula.png"/> 
</figure>
</p>
<p>this model relies on historical data. Historical Data mean performance is assumed
to be the best estimator for future performance.</p>
<h3 id="what-about-the-risk-of-the-portfolio-">what about the risk of the portfolio ?</h3>
<p>the risk has something to do with volatility,
volatility has something to do with the standard deviation</p>
<p>covariance meaure how much 2 point(or stocks ij) vary together
covariance formula
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/covariance_formula.png"/> 
</figure>
</p>
<p>covariance_form ..&gt; negative covariance means returns move inversely
..&gt; positie covariance means returns move together</p>
<p>Markowitz&rsquo;s theory is about diversification: possessing assets(stocks)
with high positive covariance does not provide very much <em>diversification!!!</em>.</p>
<p>the aim of diversification is to eliminate fluctuations in the long term. So uncorrelated stocks are better!!</p>
<p>variance formula
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/variance-formula.png"/> 
</figure>
</p>
<p>for calculating the variance of the portfolio we need the covariance matrix
cointaining all the covariances of the stocks involved in the portfolio.</p>
<p>variance portfolio
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/variance-formula.png"/> 
</figure>
</p>
<p><em>Efficient Frontier</em></p>
<p>every dots in the plot represent w (weight) &ndash;&gt; so different portfolios or
set of portolio
An investor is interested in :
1. the maximum return given a fixed risk level
2. minimum risk given a fixed return</p>
<p>these portfolio make up the so called efficient-frontier!!!
this is the main feature of Markowitz model: the investor can decide the
risk or the expected return</p>
<p>&ndash;&gt; <em>basic rule</em>: if you want to make money, you have to take risk!!!</p>
<h3 id="what-is-shape-ratio-">What is Shape Ratio ?</h3>
<p>it is one of the most important risk/return measures used in finance
&ndash;&gt; it describes how much excess return you are receiving for
extra volatility that you endure holding a riskier asset(stock)
a sharpe-ratio S(x)&gt;1 is considered to be good.</p>
<p>sharpe-ratio formula
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/variance-formula.png"/> 
</figure>
</p>
<h2 id="capital-allocation-line">Capital allocation line:</h2>
<p>The optimal portfolio lie on the capital allocation line if the
portfolio can containe stocks as well as risk-free rate(bond)
if you dont want to take risk you will be on the risk-free point that contain
zero risk.</p>
<h2 id="implementation-in-python">IMPLEMENTATION IN PYTHON</h2>
<p><a href="link:">see code</a></p>
<p>Returns of each stock since 13 years:
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/2.png"/> 
</figure>
</p>
<p>See how stocks are correlated to each other:
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/3.png"/> 
</figure>
</p>
<p>See the expected portolio return and the expected portolio volatility:
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/4.png"/> 
</figure>
</p>
<p>result:
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/5.png"/> 
</figure>
</p>
<p>See the optimal portolio weights:
FB    AMZN  INTC   AAPL <br>
Optimal weights: [0.017 0.376 0.    0.607]</p>
<p>this mean that we need to attribuate 1.7%, 37.6%, 0%, and 60.7% resspectively
to FB, AMZN, INTC, and AAPL of our wealth or capital.
Only invest in FB, AMZN, and AAPL. invest in INTC will not give us a reward.</p>
<p>Optimal Portfolio:</p>
<p>Expected return     = 0.24864315
volatility          = 0.28413197
Max Sharpe ratio    = 0.87509743</p>
<figure>
    <img src="https://antonio2505.github.io/antoine_kassi/images/optport/6.png"/> 
</figure>

<h2 id="conclusion">Conclusion:</h2>
<p>The main ideal of this theory is combine several stocks, in order to reduce risk as much as possible. <em>DIVERSIFICATION</em>.
The goal of investor is to get rewards with less risks, or no risks.
But combine several stocks, dont reduce all the risks. It reduce only the unsystematic risk, risk that
is specific to the company itself.
CAPM(Capital Asset Pricing Model) describes the relationship between systematic risk and expected return for assets, particularly stocks. It say that if we want to reduce risk, we need to take into account the market risk (inflation, war, recesion&hellip;). The variation of stock prices has some relationship with the market.
Derivative instruments can be used to reduce or eliminate all the risks, with a good strategy.</p>
<p><a href="https://github.com/antonio2505/Portfolio-Optimization/blob/main/modern_portfolio.py">Link to repository GitHubu</a></p>
<ul class="pa0">
  
   <li class="list di">
     <a href="https://antonio2505.github.io/antoine_kassi/en/tags/scene" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">scene</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://antonio2505.github.io/antoine_kassi/" >
    &copy;  Antoine Kassi 2022 
  </a>
    <div>
<div class="ananke-socials">
  
    <a href="https://github.com/antonio2505" target="_blank" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" rel="noopener" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    <a href="https://www.linkedin.com/in/antoine-kassi-09003a123/" target="_blank" class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div></div>
  </div>
</footer>

  </body>
</html>
